<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="HackTheBox - Forge" /><meta property="og:locale" content="en" /><meta name="description" content="HackTheBox Forge" /><meta property="og:description" content="HackTheBox Forge" /><link rel="canonical" href="https://slimicide.github.io/posts/HackTheBox-Forge/" /><meta property="og:url" content="https://slimicide.github.io/posts/HackTheBox-Forge/" /><meta property="og:site_name" content="Slimicide" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-05-03T14:30:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="HackTheBox - Forge" /><meta name="twitter:site" content="@Slimicide_" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-05-05T17:42:27+00:00","datePublished":"2022-05-03T14:30:00+00:00","description":"HackTheBox Forge","headline":"HackTheBox - Forge","mainEntityOfPage":{"@type":"WebPage","@id":"https://slimicide.github.io/posts/HackTheBox-Forge/"},"url":"https://slimicide.github.io/posts/HackTheBox-Forge/"}</script><title>HackTheBox - Forge | Slimicide</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Slimicide"><meta name="application-name" content="Slimicide"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /avatar.PNG " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Slimicide</a></div><div class="site-subtitle font-italic">Learning to break things responsibly. Writeups 'n Stuff.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/Slimicide" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/Slimicide_" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','domain.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>HackTheBox - Forge</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>HackTheBox - Forge</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/Slimicide_">Slimicide</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1651588200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-05-03 </em> </span> <span> Updated <em class="timeago" data-ts="1651772547" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-05-05 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1119 words"> <em>6 min</em> read</span></div></div></div><div class="post-content"><p><img data-src="/assets/img/HackTheBox/Forge/htb_forge.png" alt="Forge" title="Forge" data-proofer-ignore> <em>HackTheBox Forge</em></p><p><strong>Forge</strong> is a retired medium machine on HackTheBox, it is the machine that made me want to create writeups originally. After subscribing to HackTheBox and gaining access to retired machines, it’s finally time to do it.<br /></p><hr /><h1 id="enumeration">Enumeration</h1><p><strong>Scan:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nmap <span class="nt">-sC</span> <span class="nt">-sV</span> <span class="nt">-oA</span> nmap_initial 10.10.11.111
</pre></table></code></div></div><p><strong>Results:</strong></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>Nmap scan report for 10.10.11.111
Host is up (0.035s latency).
PORT   STATE    SERVICE VERSION
21/tcp filtered ftp
22/tcp open     ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   3072 4f:78:65:66:29:e4:87:6b:3c:cc:b4:3a:d2:57:20:ac (RSA)
|   256 79:df:3a:f1:fe:87:4a:57:b0:fd:4e:d0:54:c6:28:d9 (ECDSA)
|_  256 b0:58:11:40:6d:8c:bd:c5:72:aa:83:08:c5:51:fb:33 (ED25519)
80/tcp open     http    Apache httpd 2.4.41 ((Ubuntu))
|_http-title: Did not follow redirect to http://forge.htb
|_http-server-header: Apache/2.4.41 (Ubuntu)
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Sat Apr  9 17:33:23 2022 -- 1 IP address (1 host up) scanned in 9.78 seconds
</pre></table></code></div></div><p>We get this machine’s hostname of <code class="language-plaintext highlighter-rouge">forge.htb</code>.<br /> Add it to <code class="language-plaintext highlighter-rouge">/etc/hosts</code> and move on. There is an FTP service active but not currently accessible to us meaning we will begin with <strong>Port 80</strong></p><hr /><h1 id="port-80">Port 80</h1><p><img data-src="/assets/img/HackTheBox/Forge/htb_landing.png" alt="Landing" title="Landing Page" data-proofer-ignore> <em>http://forge.htb/</em></p><p>It seems to be a very simple image upload page where we can upload our own image using the button in the upper right. Clicking <code class="language-plaintext highlighter-rouge">Upload an Image</code> brings us to <code class="language-plaintext highlighter-rouge">http://forge.htb/upload</code>, it will allow us to upload through either local file upload or upload from URL.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_uploadpage.png" alt="Upload" title="Upload Page" data-proofer-ignore> <em>http://forge.htb/upload</em></p><p>We’ll see what happens when we upload an image of our own. Upon uploading the image, we’re given a link to where it was uploaded on the server.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_uploaded.png" alt="Uploaded" title="Uploaded" data-proofer-ignore> <em>Successful Upload</em></p><p>If we follow that link, it does in fact bring us to our perfect test image: <code class="language-plaintext highlighter-rouge">low_intelligence.png</code>. It has arrived safetly onto the server and it is on display in all its glory.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_low_intelligence.png" alt="Low_Intelligence" title="Low_Intelligence" data-proofer-ignore> <em>low_intelligence.png</em></p><p>Who would have guessed? The image upload site allows image uploads. What happens when we upload something that isn’t an image? We’ll upload a simple text file to find out.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_textfile.png" alt="No Display" title="No Display" data-proofer-ignore></p><p>The server loads images via <code class="language-plaintext highlighter-rouge">&lt;img src="link"&gt;</code> and I presume that is why it will not display. Although the content isn’t displayed on the page, it is visible in the server response.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_response.png" alt="Test File" title="Test File" data-proofer-ignore> <em>This is a test file.</em></p><p>The server allows us to read the contents of files despite them not being images. Interesting. We’ll come back to this later.</p><hr /><h1 id="gobuster">Gobuster</h1><p>We’ll start by enumerating vhosts.</p><p><strong>Scan:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gobuster vhost <span class="nt">-u</span> forge.htb <span class="nt">-w</span> /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt  <span class="nt">-o</span> gobuster-vhost-forge.htb
</pre></table></code></div></div><p>The server just spits out every request as a status 302, in order to identify the real vhosts, we can simply grep inverse search <code class="language-plaintext highlighter-rouge">302</code> from our gobuster output.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">cat </span>gobuster-vhost-forge-htb | <span class="nb">grep</span> <span class="nt">-v</span> 302
</pre></table></code></div></div><p>With this, we find only one valid vhost: <code class="language-plaintext highlighter-rouge">admin.forge.htb</code> and it is suspiciously small, only being <code class="language-plaintext highlighter-rouge">[Size: 27]</code>.<br /> Add it to <code class="language-plaintext highlighter-rouge">/etc/hosts</code> and we’ll find out why.<br /></p><p>We arrive on <code class="language-plaintext highlighter-rouge">admin.forge.htb</code> and we are given an explanation for the size of the page. It simply says:<br /> <code class="language-plaintext highlighter-rouge">Only localhost is allowed!</code>. Not only does it explain the size of the page, it makes our target very clear. We need to exploit a SSRF vulnerability from the server’s <code class="language-plaintext highlighter-rouge">Upload from URL</code> input in order to read <code class="language-plaintext highlighter-rouge">http://admin.forge.htb/</code></p><hr /><h1 id="ssrf">SSRF</h1><p>Server-Side Request Forgery aka SSRF is a vulnerability in which we can exploit a server to make requests on our behalf. In this instance, <code class="language-plaintext highlighter-rouge">admin.forge.htb</code> is only accepting requests from <code class="language-plaintext highlighter-rouge">localhost</code>, we cannot access it from outside. However with SSRF, we can tell the parts of the server we can access to make that request for us as <code class="language-plaintext highlighter-rouge">localhost</code>.<br /><br /></p><p>Luckily, I’m in the mood to create a MS-Paint <strong><em>masterpiece</em></strong>.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_masterpiece.png" alt="SSRF" title="SSRF" data-proofer-ignore> <em>SSRF - Forge</em> I hope you like it, took me a few minutes.<br /></p><p>Trying to access <code class="language-plaintext highlighter-rouge">http://admin.forge.htb/</code> normally through <code class="language-plaintext highlighter-rouge">/upload</code>, we learn there is a blacklist in place to try and mitigate SSRF by blocking requests to <code class="language-plaintext highlighter-rouge">localhost</code>, <code class="language-plaintext highlighter-rouge">127.0.0.1</code> and other popular loopback addresses such as <code class="language-plaintext highlighter-rouge">0.0.0.0</code>.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_blacklist.png" alt="Blacklist" title="Blacklist" data-proofer-ignore> <em>URL contains a blacklisted address!</em></p><p>After trying out different SSRF payloads and bypasses, I have discovered two that work, one of them is much less annoying than the other.<br /></p><p>The more annoying bypass is URL encoding <code class="language-plaintext highlighter-rouge">http://admin.forge.htb/</code> and submitting that.<br /></p><p>The easy bypass is simply submitting <code class="language-plaintext highlighter-rouge">http://ADMIN.FORGE.HTB/</code> because the blacklist seems to only block its lowercase equivalent. With this, we can submit the index page of <code class="language-plaintext highlighter-rouge">admin.forge.htb</code> to <code class="language-plaintext highlighter-rouge">Upload from URL</code> and read it from the server response.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_admin.png" alt="Admin" title="admin.forge.htb" data-proofer-ignore> <em>http://ADMIN.FORGE.HTB/</em></p><p>Through the page source, we learn of the existence of:<br /> <strong>1)</strong> <code class="language-plaintext highlighter-rouge">http://admin.forge.htb/upload</code><br /> <strong>2)</strong> <code class="language-plaintext highlighter-rouge">http://admin.forge.htb/announcements</code><br /><br /> Both of which we can read using this SSRF. We’ll start with reading the admin’s announcements.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_announcements.png" alt="Announcements" title="Announcements" data-proofer-ignore> <em>http://ADMIN.FORGE.HTB/announcements/</em></p><p>Here is our explanation for the inaccessible FTP server. We can access the FTP server through the admin’s <code class="language-plaintext highlighter-rouge">/upload</code> endpoint using the provided credentials as a GET parameter. We’ll go and see what files are available through our externally accessible <code class="language-plaintext highlighter-rouge">/upload</code> endpoint using our payload:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>http://ADMIN.FORGE.HTB/upload?u=ftp://user:heightofsecurity123!@LOCALHOST
</pre></table></code></div></div><p><img data-src="/assets/img/HackTheBox/Forge/htb_ftp.png" alt="FTP" title="FTP" data-proofer-ignore> <em>Success</em></p><p>The FTP seems to be inside the user’s home directory judging by the presence of <code class="language-plaintext highlighter-rouge">user.txt</code>. We now know what to add on to our request to gain SSH access as <code class="language-plaintext highlighter-rouge">user</code>:<br /></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>http://ADMIN.FORGE.HTB/upload?u=ftp://user:heightofsecurity123!@LOCALHOST/.ssh/id_rsa
</pre></table></code></div></div><p><img data-src="/assets/img/HackTheBox/Forge/htb_idrsa.png" alt="SSH" title="id_rsa" data-proofer-ignore> <em>id_rsa</em></p><p>By copying the SSH key to my local machine and setting the correct permissions, we now have SSH access as <code class="language-plaintext highlighter-rouge">user</code>.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_user.png" alt="user" title="user" data-proofer-ignore> <em>user.txt</em></p><hr /><h1 id="root">Root</h1><p>We don’t have to do a lot of searching to find our privilege escalation vector. By running <code class="language-plaintext highlighter-rouge">sudo -l</code>, we are told we have permission to execute a Python script as root.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_privesc.png" alt="Sudo python" title="Sudo python" data-proofer-ignore> <em>sudo -l</em></p><p>Running the script, it opens up a TCP listener, in order to interact with it, we can just open a second SSH session and we can then connect to the port specified by the script using <code class="language-plaintext highlighter-rouge">nc</code> already on the box. Upon connecting to the box, we are prompted to enter a “secret password”.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_secretpass.png" alt="Enter the secret password" title="Enter the secret password" data-proofer-ignore> <em>Enter the secret password</em></p><p>It’s just a Python script, we can read it to find the password it’s looking for.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_secretpass1.png" alt="Secret Password" title="Secret Password" data-proofer-ignore> <em>secretadminpassword</em></p><p>Makes sense.<br /> After entering the password, we’re prompted with a menu.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_menu.png" alt="Menu" title="Menu" data-proofer-ignore> <em>Admin Menu</em></p><p>Reading the script, we know that options 1-4 are boring. However, throwing an exception might be interesting because it gets the Python debugger involved. As the client, we select the non-existant option <code class="language-plaintext highlighter-rouge">a</code> and sure enough, the process dies and we’re given a pdb shell.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_pdb.png" alt="pdb" title="pdb" data-proofer-ignore> <em>pdb</em></p><p>Typing help, we’re given a list of commands we can run.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_help.png" alt="help" title="help" data-proofer-ignore> <em>help</em></p><p>We can use the <code class="language-plaintext highlighter-rouge">interact</code> command and it puts us into a Python interpreter. From here, we can simply:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="n">os</span><span class="p">.</span><span class="n">system</span><span class="p">(</span><span class="s">'/bin/bash'</span><span class="p">)</span>
</pre></table></code></div></div><p>We now have a bash shell as root which we can use to read the root flag.</p><p><img data-src="/assets/img/HackTheBox/Forge/htb_root.png" alt="root" title="root" data-proofer-ignore> <em>root.txt</em></p><p>I have finished a handful of HackTheBox machines but Forge remains as a clear favorite. It is relatively straight-forward as far as medium boxes go and it is immensely satisfying.</p><h1>:)</h1></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hackthebox/'>HackTheBox</a>, <a href='/categories/machines/'>Machines</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/hackthebox/" class="post-tag no-text-decoration" >hackthebox</a> <a href="/tags/forge/" class="post-tag no-text-decoration" >forge</a> <a href="/tags/ssrf/" class="post-tag no-text-decoration" >ssrf</a> <a href="/tags/upload/" class="post-tag no-text-decoration" >upload</a> <a href="/tags/pdb/" class="post-tag no-text-decoration" >pdb</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=HackTheBox - Forge - Slimicide&amp;url=https://slimicide.github.io/posts/HackTheBox-Forge/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=HackTheBox - Forge - Slimicide&amp;u=https://slimicide.github.io/posts/HackTheBox-Forge/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://slimicide.github.io/posts/HackTheBox-Forge/&amp;text=HackTheBox - Forge - Slimicide" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/HackTheBox-Templated/">HackTheBox - Templated</a><li><a href="/posts/HackTheBox-Forge/">HackTheBox - Forge</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/hackthebox/">hackthebox</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/active-directory/">active_directory</a> <a class="post-tag" href="/tags/exploit/">exploit</a> <a class="post-tag" href="/tags/pwntools/">pwntools</a> <a class="post-tag" href="/tags/smb/">smb</a> <a class="post-tag" href="/tags/bloodhound/">bloodhound</a> <a class="post-tag" href="/tags/buffer-overflow/">buffer-overflow</a> <a class="post-tag" href="/tags/evil-winrm/">evil-winrm</a> <a class="post-tag" href="/tags/ldap/">ldap</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/HackTheBox-Intelligence/"><div class="card-body"> <em class="timeago small" data-ts="1651771800" > 2022-05-05 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HackTheBox - Intelligence</h3><div class="text-muted small"><p> HackTheBox Intelligence Intelligence is a retired medium Active Directory machine on HackTheBox, this machine was my first real dive into Active Directory exploitation and it was the perfect mach...</p></div></div></a></div><div class="card"> <a href="/posts/HackTheBox-Resolute/"><div class="card-body"> <em class="timeago small" data-ts="1654048800" > 2022-06-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HackTheBox - Resolute</h3><div class="text-muted small"><p> HackTheBox Resolute Resolute is a retired medium Active Directory machine on HackTheBox, expanding on my Active Directory experience from the previous machine Intelligence. Enumeration Initial...</p></div></div></a></div><div class="card"> <a href="/posts/HackTheBox-Cascade/"><div class="card-body"> <em class="timeago small" data-ts="1654210800" > 2022-06-02 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HackTheBox - Cascade</h3><div class="text-muted small"><p> HackTheBox Cascade Cascade is a retired medium Active Directory machine on HackTheBox. Enumeration Like usual, we can start out by enumerating all the ports and do a more thorough scan of exis...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <span class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></span> <a href="/posts/HackTheBox-Intelligence/" class="btn btn-outline-primary" prompt="Newer"><p>HackTheBox - Intelligence</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/Slimicide_">Slimicide</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/hackthebox/">hackthebox</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/active-directory/">active_directory</a> <a class="post-tag" href="/tags/exploit/">exploit</a> <a class="post-tag" href="/tags/pwntools/">pwntools</a> <a class="post-tag" href="/tags/smb/">smb</a> <a class="post-tag" href="/tags/bloodhound/">bloodhound</a> <a class="post-tag" href="/tags/buffer-overflow/">buffer-overflow</a> <a class="post-tag" href="/tags/evil-winrm/">evil-winrm</a> <a class="post-tag" href="/tags/ldap/">ldap</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
